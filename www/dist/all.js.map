{"version":3,"sources":["app.js","ToastService.js","arService.js","cordovaGeolocationModule.js","favService.js","loading.js","lugaresService.js","mapaService.js","navigateService.js","regService.js","utils.js","ngcordova/device.js","ngcordova/facebook.js","ngcordova/network.js","ngcordova/push_v5.js","componentes/botonBase/botonBase.js","componentes/botonSistema/botonSistema.js","componentes/botonLista/botonLista.js","componentes/checkBox/checkBox.js","componentes/elLoading/elLoading.js","componentes/imgLoader/imgLoader.js","componentes/touchSlider/touchSlider.js","secciones/config/config.js","secciones/detalle/detalle.js","secciones/home/home.js","secciones/lista/lista.js","secciones/mapa/mapa.js","secciones/reg/reg.js","secciones/taxi/taxi.js","secciones/terms/terms.js","index.js"],"names":["geobarApp","angular","module","constant","ancho","window","innerWidth","alto","innerHeight","config","$mdGestureProvider","skipClickHijack","console","log","run","$http","$cordovaPushV5","$timeout","$cordovaDevice","$window","$rootScope","SERVER","navigateService","enviar_token","$token","pushToken","_uuid","_platform","getUUID","getPlatform","e","objSend","uuid","platform","pushtoken","u","localStorage","getItem","req","method","url","headers","Content-Type","data","then","setItem","pushIosDisabled","androidConfig","senderID","initialize","register","result","err","$on","event","notification","regid","length","payload","idPoi","navegarAPoi","item","id","go","iosConfig","badge","sound","alert","deviceToken","setBadgeNumber","unregister","options","controller","$document","$cordovaNetwork","favService","ToastService","cordovaGeolocationService","$scope","Loading","regService","$location","lugaresService","eventosService","arService","iniciar_app","setAll","$watch","set","ocultar","callbak_cuando_init","mostrar_home","isUndefined","goPoi","showRegistro","setCallbacks","on","hack","off","aceptoTerms","rootScope","alto_screen","ultima_ubilcacion","getUltimaPosicion","init","position","watchPosition","get","Date","getTime","success","json_sync","JSON","stringify","favs","local_sync_lugares","local_sync_eventos","debe_sincronzar","pois","lugares","eventos","error","userId","active_page","cliqueando","visible","factory","$q","showShortTop","message","q","defer","plugins","toast","response","resolve","reject","promise","showShortCenter","showShortBottom","showLongTop","showLongCenter","showLongBottom","show","duration","wikitudePlugin","isDeviceSupported","arExperienceUrl","requiredFeatures","startupConfiguration","camera_position","ya_iniciado","cordova","require","this","onDeviceSupported","onDeviceNotSupported","setOnUrlInvokeCallback","onURLInvoked","hide","_url","decodeURIComponent","split_url","split","method_parms_array","mostrar","setTimeout","type","$apply","cerrar","self","loadARchitectWorld","onARExperienceLoadedSuccessful","onARExperienceLoadError","ultim_pos","setPosPoisEnWikitude","coords","navigator","geolocation","getCurrentPosition","onLocationUpdated","onLocationError","escapeSpecialChars","toJson","getDistancia","$json","replace","$coord","setLocation","latitude","longitude","altitude","accuracy","callJavaScript","onLocationWatch","loadedURL","errorMessage","cordovaGeolocationModule","apiVersion","cordovaVersion","$log","cordovaGeolocationConstants","pocision","debug","checkGeolocationAvailability","warn","successCallback","errorCallback","clearWatch","watchID","service","all","parse","getAll","getCantFavPoriId","$idPoi","setFav","$val","valor_actual","parseInt","element","css","setInstancia","$elem","DistancePostion","all_a_distancia","distancia_cargada","bares","restaurantes","cines","teatro","array_entero","cantidad_lugares","i","tipo","addPoiToAll","sort","compare","a","b","distancia","$poi","my_pos","d","enKilometros","lat","lon","nuevoPoi","name","dir","push","cantidad","dist","hoy","getFullYear","getMonth","getDate","array_pub_ini","String","pub_ini","fecha_pub_ini","Number","array_pub_fin","pub_fin","fecha_pub_fin","map","plugin","google","maps","Map","getMap","MAP_READY","setClickable","div","document","getElementById","style","height","setVisible","setDiv","refreshLayout","onSuccess","location","setOptions","controls","compass","myLocationButton","zoom","animateCamera","target","latLng","onError","msg","getMyLocation","mapaService","$injector","backKeyDown","back","go_execute","secc","obj","entra_a_historia","$dir_animate","dirAnim","dir_animate","historia","en_seccion","status","ultima_seccion_eliminada_de_historia","secciones","addEventListener","esPrimerPage","setSecciones","$key","$init","$recargar","pop","penultimo_elemento","recargar","habilTranciosinar","$secc","elem","scope","_callback_ok","_callback_cancel","$callback_ok","$callback_cancel","callback_ok","callback_cancel","lat1","lon1","lat2","lon2","unit","radlat1","Math","PI","radlat2","theta","radtheta","sin","cos","acos","directive","restrict","link","$element","attrs","addClass","getDevice","device","getCordova","getModel","model","getName","getVersion","version","getManufacturer","manufacturer","provider","browserInit","appID","appVersion","facebookConnectPlugin","$get","login","permissions","res","showDialog","api","path","getAccessToken","getLoginStatus","logout","offlineEvent","networkState","connection","$broadcast","onlineEvent","getNetwork","isOnline","Connection","UNKNOWN","NONE","isOffline","clearOfflineWatch","removeEventListener","$$listeners","clearOnlineWatch","PushNotification","onNotification","$emit","undefined","Error","registrationId","number","setApplicationIconBadgeNumber","habil","accion","bind","hasClass","vibrate","removeClass","imagen","txt","template","touch_move","unbind","checked","compile","attributes","imgurl","hashfile","itemid","itemtipo","children","onerror","fotos","urlImgs","imgDefault","templateUrl","doMove","enx","round","touches","clientX","offsetX","ultimo_x","doEnd","finX","changedTouches","t","pagina","cien_porciento","removeListener","home_og_poi","addListener","server","array_src_fotos","$oldV","$newV","obj_home","home_img","caca","screen_alto","chkBares","chkRestaurantes","chkCines","chkTeatros","chkPush","setPush","$clave","update","goReg","token","act","marcar_como_favorito","poiId","mi_fav","_callback","goMapa","goTel","open","tel","goFav","goFb","encodeURIComponent","fb","goSite","site","goDir","_set","$obj","$callback","fotos_detalle","url_img","long_desc","sin_fotos","url_img_home","fotos_home","ya_cargo","realidad","SCREEN_SIZE","$filter","filtro","en_pagina","timer","en_lista","txtfiltro","querySelector","scrollTop","array_items","total","resetFiltro","cargarMas","keyDownFilter","cancel","holder_scrolleable","_scrollTop","_offsetHeight","offsetHeight","_scrollHeight","scrollHeight","enscroll","altoholder","select_item","$item","index","siempreVisible","img_url","getFav","$fav","load_script","innerHTML","s","createElement","src","appendChild","lazyLoadApi","deferred","initMap","mapOptions","center","LatLng","mapTypeControl","streetViewControl","mapTypeId","MapTypeId","ROADMAP","styles","featureType","elementType","stylers","visibility","directionsService","DirectionsService","directionsDisplay","DirectionsRenderer","suppressMarkers","mapa_ya_inicializado","_dispose","array_markers","setMap","myMarker","agregar_marcador","marker","Marker","optimized","icon","scaledSize","Size","anchor","Point","mapa_type","itemSelected","bounds","extend","getPosition","ver_ruta","request","origin","destination","travelMode","TravelMode","route","DirectionsStatus","OK","setDirections","init_with_lazy_load","map_circle","goInfo","LatLngBounds","stroke_color","polylineOptions","strokeColor","strokeOpacity","strokeWeight","circleOptions","fillColor","fillOpacity","radius","Circle","cantidad_eventos","setCenter","trigger","setZoom","fitBounds","$cordovaFacebook","validateEmail","email","re","test","getAge","dateString","today","birthDate","age","m","validation_digit","ci","validate_ci","clean_ci","dig","chkEdad","reg","sexo","sexoF","uid","nombre","first_name","apellido","last_name","gender","omitir","elegirSexo","$sexo","sexoM","enviar","errorNombre","errorApellido","errorEmail","errorCi","errorNac","nac","fehca_nac","voyentaxi","easytaxi","aceptar","file","line","keys","Object","forEach","key","join","app","bindEvents","onDeviceReady","InAppBrowser","bootstrap"],"mappings":"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","file":"all.js","sourcesContent":["var geobarApp = angular.module('geobarApp', ['ngTouch', 'ngAnimate','ngMaterial',\n\t\t\t\t\t\t\t\t\t\t\t 'ngCordova.plugins.device' ,\n\t'ngCordova.plugins.facebook' , 'ngCordova.plugins.network' , 'ngCordova.plugins.push_v5' , 'Utils', 'cordovaGeolocationModule', 'plugins.toast'])\n\n//.constant('SERVER', 'http://192.168.0.2/_g3ob4r_/server/')\n//.constant('SERVER', 'http://mateomenestrina.no-ip.org/_g3ob4r_/server/')\n.constant('SERVER', 'http://dev.metamorf.com.uy/geobar/')\n.constant('SCREEN_SIZE', {ancho: window.innerWidth, alto: window.innerHeight})\n\n.config(function( $mdGestureProvider) {\n    $mdGestureProvider.skipClickHijack();\n\tconsole.log(\"CONFIG\")\n})\n\n.run(function($http, $cordovaPushV5, $timeout, $cordovaDevice, $window, $rootScope, SERVER, navigateService) {\n\n\tconsole.log(\"RUN\");\n\n\tfunction enviar_token($token){\n\n\t\tconsole.log('ENVIAR TOKEN: ' + $token);\n\n\t\t$rootScope.pushToken  = $token;\n\n\t\tvar _uuid, _platform;\n\t\ttry{\n\t\t\t_uuid = $cordovaDevice.getUUID();\n\t\t\t_platform =  $cordovaDevice.getPlatform();\n\t\t}catch(e){\n\n\t\t\t_uuid =  'dev';\n\t\t\t_platform =  'browser';\n\t\t}\n\n\t\tvar objSend = {\n\t\t\tuuid :  _uuid,\n\t\t\tplatform : _platform,\n\t\t\tpushtoken : $token,\n\t\t\tu: $window.localStorage.getItem('userId')\n\t\t};\n\t\tvar  req = {\n\t\t\tmethod: 'POST',\n\t\t\turl: SERVER + 'ws.php?method=init',\n\t\t\theaders: {\n\t\t\t\t'Content-Type':  'application/x-www-form-urlencoded;charset=utf-8'\n\t\t\t},\n\t\t\tdata: objSend\n\t\t};\n\n\t\t$http(req).then(function(data){ }, function(){ });\n\n\n\t}\n\n\tif($window.localStorage.getItem('local_sync_lugares') == null) $window.localStorage.setItem('local_sync_lugares', 0);\n\tif($window.localStorage.getItem('local_sync_eventos') == null)  $window.localStorage.setItem('local_sync_eventos', 0);\n\tif($window.localStorage.getItem('distancia') == null) $window.localStorage.setItem('distancia', 5);\n\tif($window.localStorage.getItem('bares') == null) $window.localStorage.setItem('bares', 1);\n\tif($window.localStorage.getItem('restaurantes') == null) $window.localStorage.setItem('restaurantes', 1);\n\tif($window.localStorage.getItem('cines') == null) $window.localStorage.setItem('cines', 1);\n\tif($window.localStorage.getItem('teatros') == null) $window.localStorage.setItem('teatros', 1);\n\tif($window.localStorage.getItem('eventos') == null) $window.localStorage.setItem('eventos', 1);\n\tif($window.localStorage.getItem('favoritos') == null) $window.localStorage.setItem('favoritos', 1);\n\tif($window.localStorage.getItem('push') == null) $window.localStorage.setItem('push', 1);\n\tif($window.localStorage.getItem('aceptoTerms') == null) $window.localStorage.setItem('aceptoTerms', 0);\n\tif($window.localStorage.getItem('userId') == null) $window.localStorage.setItem('userId', 0);\n\tif($window.localStorage.getItem('favs') == null) $window.localStorage.setItem('favs', '');\n\tif($window.localStorage.getItem('json_lugares') == null) $window.localStorage.setItem('json_lugares','[{\"id\":\"37\",\"tipo\":\"1\",\"cat\":\"Bar\",\"name\":\"AVALON Resto-bar\",\"tel\":\"(01) 4463369\",\"dir\":\"Calle 2 de Mayo 385\",\"lat\":\"-12.118048\",\"lon\":\"-77.032147\",\"alt\":\"0\",\"thumb\":\"28a7b962f81e6ee438cfed2a78e72cfb.jpg\"},{\"id\":\"34\",\"tipo\":\"1\",\"cat\":\"Bar\",\"name\":\"Bass\",\"tel\":\"\",\"dir\":\"Charrua 2547 Esq. Brito del Pino\",\"lat\":\"-34.905281\",\"lon\":\"-56.157982\",\"alt\":\"100.1\",\"thumb\":\"5021d3649daee63a344b9bc44af9ef56.jpg\"},{\"id\":\"30\",\"tipo\":\"1\",\"cat\":\"Bar\",\"name\":\"Casitanno\",\"tel\":\"2409 7236\",\"dir\":\"Maldonado 2051 (Pablo de Mara)\",\"lat\":\"-34.9081366\",\"lon\":\"-56.1706496\",\"alt\":\"100.1\",\"thumb\":\"c2a2ef804baa729648ad7eb67c7e006a.jpg\"},{\"id\":\"7\",\"tipo\":\"5\",\"cat\":\"Teatro\",\"name\":\"El Cilindro\",\"tel\":\"12312321 23\",\"dir\":\"cerca del parque rodo\",\"lat\":\"-34.86319730239704\",\"lon\":\"-56.15334793925285\",\"alt\":\"37.430\",\"thumb\":\"f55faab04fd0c40d086baa83afe82361.jpg\"},{\"id\":\"32\",\"tipo\":\"1\",\"cat\":\"Bar\",\"name\":\"El Living\",\"tel\":\"2402 3795\",\"dir\":\"Juan Paullier y Edil Hugo Prato\",\"lat\":\"-34.9092933\",\"lon\":\"-56.1671314\",\"alt\":\"100.1\",\"thumb\":\"6212b10071517248f96267682a765bf7.jpg\"},{\"id\":\"18\",\"tipo\":\"2\",\"cat\":\"Restaurante\",\"name\":\"El Palenqe\",\"tel\":\"11111\",\"dir\":\"dasd\",\"lat\":\"-34.90543652103986\",\"lon\":\"-56.211585234850645\",\"alt\":\"8.645\",\"thumb\":\"b7f68a58c58413896dea0da3f92a31ef.jpg\"},{\"id\":\"1\",\"tipo\":\"3\",\"cat\":\"Cine\",\"name\":\"Esquina Metamorf\",\"tel\":\"xxxx020\",\"dir\":\"11Luis Alberto Herrera 941\",\"lat\":\"-34.90890485114102\",\"lon\":\"-56.15121147595346\",\"alt\":\"26.467\",\"thumb\":\"ab316ee877f25673e1036d80e40994a1.jpg\"},{\"id\":\"35\",\"tipo\":\"1\",\"cat\":\"Bar\",\"name\":\"JACKSON BAR\",\"tel\":\"098 626 480\",\"dir\":\"Jackson 1220, Montevideo\",\"lat\":\"-34.906994\",\"lon\":\"-56.173031\",\"alt\":\"100.1\",\"thumb\":\"c696ea093536ff5096e845f06c8acddb.jpg\"},{\"id\":\"15\",\"tipo\":\"2\",\"cat\":\"Restaurante\",\"name\":\"La Estada\",\"tel\":\"waweq\",\"dir\":\"wewqe\",\"lat\":\"-34.90795481601594\",\"lon\":\"-56.146345341112465\",\"alt\":\"14.086\",\"thumb\":\"5d9c449f9184504d50bd3f3f25795fda.jpg\"},{\"id\":\"29\",\"tipo\":\"1\",\"cat\":\"Bar\",\"name\":\"La Ronda Cafe\",\"tel\":\"\",\"dir\":\"\",\"lat\":\"-34.90986214411416\",\"lon\":\"-56.20006246492267\",\"alt\":\"18.124\",\"thumb\":\"c6ca9bf6e06b6bd7561a7da146745e93.jpg\"},{\"id\":\"31\",\"tipo\":\"1\",\"cat\":\"Bar\",\"name\":\"Loop Bar\",\"tel\":\"09971012\",\"dir\":\"Maldonado 2047 (esq. Pablo de Maria)\",\"lat\":\"-34.9080883\",\"lon\":\"-56.1708158\",\"alt\":\"100.0\",\"thumb\":\"cebc455e3e43c06907ef50d1468dcea0.jpg\"},{\"id\":\"3\",\"tipo\":\"3\",\"cat\":\"Cine\",\"name\":\"P. Legislativo\",\"tel\":\"23059020\",\"dir\":\"Luis Alberto Herrera 213\",\"lat\":\"-34.891497\",\"lon\":\"-56.187308\",\"alt\":\"22.8\",\"thumb\":\"a803bdf7b833a7290a599607de633888.jpg\"}]');\n\tif($window.localStorage.getItem('json_eventos') == null) $window.localStorage.setItem('json_eventos','[{\"id\":\"23\",\"tipo\":\"4\",\"cat\":\"Evento\",\"name\":\"Jet Black\",\"tel\":\"\",\"dir\":\"\",\"lat\":\"-34.8382628161465\",\"lon\":\"-56.03090610355139\",\"alt\":\"15.187\",\"pub_ini\":\"0000-00-00 00:00:00\",\"pub_fin\":\"2016-11-30 00:00:00\",\"thumb\":\"25aa9ebc670e17a21d02f4dcce3f064a.jpg\"},{\"id\":\"5\",\"tipo\":\"4\",\"cat\":\"Evento\",\"name\":\"Rodelu\",\"tel\":\"324234\",\"dir\":\"324welefjkjflsdk as\",\"lat\":\"-34.915748\",\"lon\":\"-56.167437\",\"alt\":\"14.1\",\"pub_ini\":\"0000-00-00 00:00:00\",\"pub_fin\":\"2015-11-02 00:00:00\",\"thumb\":\"23c20c2b530f5d5812c03f25798e4dda.jpg\"},{\"id\":\"6\",\"tipo\":\"4\",\"cat\":\"Evento\",\"name\":\"Skate park\",\"tel\":\"324234\",\"dir\":\"324welefjs{dlkjflsdk as\",\"lat\":\"-34.910883\",\"lon\":\"-56.133464\",\"alt\":\"2.8\",\"pub_ini\":\"0000-00-00 00:00:00\",\"pub_fin\":\"2015-11-27 00:00:00\",\"thumb\":\"3acc9f4a636e3a63c91612d108bce36a.jpg\"},{\"id\":\"4\",\"tipo\":\"4\",\"cat\":\"Evento\",\"name\":\"Smirnoff Mauss Party\",\"tel\":\"23123123\",\"dir\":\"Sheraton\",\"lat\":\"-34.924265\",\"lon\":\"-56.158033\",\"alt\":\"24.6\",\"pub_ini\":\"0000-00-00 00:00:00\",\"pub_fin\":\"2015-12-07 00:00:00\",\"thumb\":\"a5cd9dc8185d604cd7b2050d94f86e3a.jpg\"}]');\n\n\t$rootScope.pushIosDisabled = false;\n\n\ttry{\n\n\t\tif( $cordovaDevice.getPlatform() == 'Android'){\n\n\t\t\tvar androidConfig = {\n\t\t\t\t\"senderID\": \"100997202768\"\n\t\t\t};\n\t\t\t$cordovaPushV5.initialize(androidConfig);\n\t\t\t$cordovaPushV5.register().then(function(result) {\n\n\t\t\t}, function(err) {\n\n\t\t\t});\n\n\t\t\t$rootScope.$on('$cordovaPushV5:notificationReceived', function(event, notification) {\n\n\t\t\t\tswitch(notification.event) {\n\n\t\t\t\t\tcase 'registered':\n\n\t\t\t\t\t\tif (notification.regid.length > 0 ) {\n\t\t\t\t\t\t\tenviar_token(notification.regid);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'message':\n\n\t\t\t\t\t\tif(notification.payload.idPoi!=0) {\n\t\t\t\t\t\t\t$rootScope.navegarAPoi = notification.payload.idPoi;\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tvar item={ id: notification.payload.idPoi };\n\t\t\t\t\t\t\t\tnavigateService.go('detalle', item);\n\t\t\t\t\t\t\t}catch(e){}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'error':\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif( $cordovaDevice.getPlatform() == 'iOS'){\n\n\t\t\tvar iosConfig = {\n\t\t\t\t\"badge\": true,\n\t\t\t\t\"sound\": true,\n\t\t\t\t\"alert\": true\n\t\t\t};\n\n\t\t\t$cordovaPushV5.initialize(iosConfig);\n\t\t\t$rootScope.pushIosDisabled = true;\n\n\t\t\t$cordovaPushV5.register().then(function(deviceToken) {\n\n\t\t\t\t$rootScope.pushIosDisabled = false;\n\t\t\t\tenviar_token(deviceToken);\n\n\t\t\t}, function(err) {\n\n\t\t\t\talert(\"Push registro error: \" + err)\n\n\t\t\t});\n\n\t\t\t$rootScope.$on('$cordovaPushV5:notificationReceived', function(event, notification) {\n\n\t\t\t\tif (notification.alert) {\n\n\t\t\t\t\tif(notification.idPoi!=0) {\n\t\t\t\t\t\t$rootScope.navegarAPoi = notification.idPoi;\n\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\tvar item={ id: notification.idPoi };\n\t\t\t\t\t\t\tnavigateService.go('detalle', item);\n\t\t\t\t\t\t}catch(e){}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (notification.sound) {\n\t\t\t\t\t// var snd = new Media(event.sound);\n\t\t\t\t\t// snd.play();\n\t\t\t\t}\n\n\t\t\t\tif (notification.badge) {\n\t\t\t\t\t$cordovaPushV5.setBadgeNumber(notification.badge).then(function(result) {\n\t\t\t\t\t\t// Success!\n\t\t\t\t\t}, function(err) {\n\t\t\t\t\t\t// An error occurred. Show a message to the user\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\t// WARNING! dangerous to unregister (results in loss of tokenID)\n\t\t\t$cordovaPushV5.unregister(options).then(function(result) {\n\t\t\t\t// Success!\n\t\t\t}, function(err) {\n\t\t\t\t// Error\n\t\t\t});\n\n\t\t}\n\n\t}catch(e){\n\n\t\tenviar_token('');\n\n\t}\n\n\n\n  }, false);\n\ngeobarApp.controller(\"mainController\",  function($document, $cordovaNetwork, $rootScope, favService, ToastService, cordovaGeolocationService, $timeout, $scope, $http, Loading, SERVER, regService, $location, $window, navigateService, lugaresService, eventosService, arService) {\n\n\t$scope.aceptoTerms = -1;\n\t$scope.showRegistro = false;\n\t$scope.rootScope = $rootScope;\n\t$scope.alto_screen = $window.innerHeight;\n\t$scope.ultima_ubilcacion  = cordovaGeolocationService.getUltimaPosicion();\n\n\t$scope.init = function (){\n\n\t\t$rootScope.position = null;\n\n\t\tcordovaGeolocationService.watchPosition();\n\n\t\tiniciar_app();\n\n\n\t\t$http.get(SERVER + 'sync.php?ac=' + new Date().getTime()).success(function (json_sync) {\n\n\t\t\t$window.localStorage.setItem('favs', JSON.stringify(json_sync.favs));\n\n\t\t\tvar local_sync_lugares = $window.localStorage.getItem('local_sync_lugares');\n\t\t\tvar local_sync_eventos = $window.localStorage.getItem('local_sync_eventos');\n\n\t\t\tvar debe_sincronzar = '';\n\n\t\t\tif(json_sync.pois.lugares != local_sync_lugares) debe_sincronzar += 'lugares';\n\t\t\tif(json_sync.pois.eventos != local_sync_eventos) debe_sincronzar += 'eventos';\n\n\t\t\tif(debe_sincronzar != ''){\n\n\t\t\t\t$http.get(SERVER+'ws.php?method=getLista&data=' + debe_sincronzar + '&ac=' + new Date().getTime())\n\n\t\t\t\t.success(function(data) {\n\n\t\t\t\t\tif(typeof data.lugares != 'undefined'){\n\t\t\t\t\t\t$window.localStorage.setItem('json_lugares', JSON.stringify(data.lugares));\n\t\t\t\t\t\t$window.localStorage.setItem('local_sync_lugares', json_sync.pois.lugares)\n\t\t\t\t\t}\n\n\t\t\t\t\tif(typeof data.eventos != 'undefined'){\n\t\t\t\t\t\t$window.localStorage.setItem('json_eventos', JSON.stringify(data.eventos));\n\t\t\t\t\t\t$window.localStorage.setItem('local_sync_eventos', json_sync.pois.eventos)\n\t\t\t\t\t}\n\n\t\t\t\t    iniciar_app();\n\n\t\t\t\t})\n\t\t\t\t.error(function(){\n\t\t\t\t\tiniciar_app()\n\t\t\t\t});\n\n\t\t\t} else  iniciar_app();\n\n\t\t}).error(function(){\n\n\t\t\tiniciar_app()\n\t\t});\n\n\t};\n\n\tfunction iniciar_app(){\n\n\t\tfavService.setAll();\n\n\t\t$rootScope.$watch(\"position\", function (){\n\n\t\t\tlugaresService.setAll();\n\t\t\teventosService.setAll();\t\n\n\t\t});\n\n\t\tarService.set();\n\t\tLoading.ocultar();\n\n\t\tvar callbak_cuando_init = mostrar_home;\n\t\tif(!angular.isUndefined($rootScope.navegarAPoi)){\n\t\t\tcallbak_cuando_init = goPoi;\n\t\t}\t\n\t       \n\t\tif($scope.showRegistro){\n\n\t\t   \tregService.setCallbacks(callbak_cuando_init, callbak_cuando_init)\n\t\t   \t\t\n\t\t}else{\n\t\t   \t\n\t\t   callbak_cuando_init();\n\n\t\t}\n\n\t\t$document.on('touchmove', hack)\n\t\n\t}\n\n\tfunction goPoi(){\n\t\t\n\t\tvar item={ id: $rootScope.navegarAPoi };\n\t\tnavigateService.go('detalle', item);\n\t}\n\n\tfunction mostrar_home(){\n\t \tnavigateService.go('home');\n\t}\n\n\tfunction hack(){\n\t\t$document.off('touchmove', hack)\n\t}\n\n\t$scope.aceptoTerms = $window.localStorage.getItem('aceptoTerms');\n\t$scope.userId = $window.localStorage.getItem('userId');\n\t$rootScope.userId = $window.localStorage.getItem('userId');\n\n\tif($scope.userId==0){\n\t\t$scope.showRegistro = true;\n\t}\n\n});\t\n\n\ngeobarApp.controller(\"menuCtrl\", function($scope, navigateService){\n\t\n\t$scope.navigateService = navigateService;\n\t\n});\n\n\ngeobarApp.controller(\"seccionLoaderController\",  function($scope, $rootScope, navigateService) {\n\t\n\t$scope.navigateService = navigateService;\n\t$scope.active_page =  navigateService.active_page;\n\n\n\t$scope.cliqueando = function (){\n\t\t$scope.visible = false;\n\t}\n\n});\n\n\n","angular.module('plugins.toast', [])\n\n  .factory('ToastService', ['$q', '$window', function ($q, $window) {\n\n    return {\n      \n      showShortTop: function (message) {\n        var q = $q.defer();\n        $window.plugins.toast.showShortTop(message, function (response) {\n          q.resolve(response);\n        }, function (error) {\n          q.reject(error);\n        });\n        return q.promise;\n      },\n\n      showShortCenter: function (message) {\n        var q = $q.defer();\n        $window.plugins.toast.showShortCenter(message, function (response) {\n          q.resolve(response);\n        }, function (error) {\n          q.reject(error);\n        });\n        return q.promise;\n      },\n\n      showShortBottom: function (message) {\n        var q = $q.defer();\n        $window.plugins.toast.showShortBottom(message, function (response) {\n          q.resolve(response);\n        }, function (error) {\n          q.reject(error);\n        });\n        return q.promise;\n      },\n\n      showLongTop: function (message) {\n        var q = $q.defer();\n        $window.plugins.toast.showLongTop(message, function (response) {\n          q.resolve(response);\n        }, function (error) {\n          q.reject(error);\n        });\n        return q.promise;\n      },\n\n      showLongCenter: function (message) {\n        var q = $q.defer();\n        $window.plugins.toast.showLongCenter(message, function (response) {\n          q.resolve(response);\n        }, function (error) {\n          q.reject(error);\n        });\n        return q.promise;\n      },\n\n      showLongBottom: function (message) {\n        var q = $q.defer();\n        $window.plugins.toast.showLongBottom(message, function (response) {\n          q.resolve(response);\n        }, function (error) {\n          q.reject(error);\n        });\n        return q.promise;\n      },\n\n\n      show: function (message, duration, position) {\n        var q = $q.defer();\n        try{\n\n          $window.plugins.toast.show(message, duration, position, function (response) {\n             q.resolve(response);\n          }, function (error) {\n            q.reject(error);\n          });\n\n        }catch(e){\n\n          alert(message)\n        }\n        \n        return q.promise;\n      }\n    };\n\n  }]);","geobarApp.factory('arService', function($window, $rootScope, navigateService, ToastService, lugaresService, eventosService, Loading,cordovaGeolocationService){\n\n    var wikitudePlugin;\n\tvar arExperienceUrl =  \"www/AR/index.html\";\n    var requiredFeatures = [  \"geo\" ];\n    var isDeviceSupported ;\n    var startupConfiguration = { \"camera_position\": \"back\"  };\n    var ya_iniciado = false;\n\n\t  return {\n        \n        set: function(){\n            try{\n\n                wikitudePlugin = cordova.require(\"com.wikitude.phonegap.WikitudePlugin.WikitudePlugin\");\n                wikitudePlugin.isDeviceSupported(this.onDeviceSupported, this.onDeviceNotSupported, requiredFeatures);\n                wikitudePlugin.setOnUrlInvokeCallback(this.onURLInvoked);\n\n            }catch(e){\n\n               console.log('No se puede cargar el AR')\n                \n            }\n        }, \n\n\n\n        hide: function (){\n         \n            if(ya_iniciado)  wikitudePlugin.hide();\n           \n        },    \n\n        onURLInvoked: function(url){\n          \n          var _url = decodeURIComponent(url);\n\n          if(_url == 'architectsdk://action=closeWikitudePlugin') wikitudePlugin.hide();\n          else {\n\n                var split_url = _url.split('architectsdk://action=');\n                var method_parms_array = split_url[1].split(':');\n                var item;\n\n                if(method_parms_array[1] == 'lugar')  item = lugaresService.get()[method_parms_array[2]];\n                if(method_parms_array[1] == 'evento') item = eventosService.get()[method_parms_array[2]];\n\n                switch(method_parms_array[0]){\n\n                    case 'dir':   \n                        wikitudePlugin.hide(); \n                        Loading.mostrar();\n                        \n                        setTimeout(function (){\n\n                           //  Loading.ocultar()\n                             navigateService.go('mapa', {type:'dir', item: item}); \n                            $rootScope.$apply();\n                         }, 100);\n                        break;\n\n                    case 'fav':   alert('FPO add favoritos'); break;\n                    case 'info': \n                        wikitudePlugin.hide();      \n                        $rootScope.$apply(); \n                        Loading.mostrar();\n                         setTimeout(function (){\n                             navigateService.go('detalle',  item); \n                        \n                        }, 100);\n                        break;\n\n                }\n\n          }\n\n          Loading.ocultar();\n\n        },  \n\n\n        cerrar: function (){\n              \n        },\n\n    \t\tmostrar: function() {\n\n    \t\t\tif(isDeviceSupported){\n\n                Loading.mostrar();\n\n                var self = this;\n\n                setTimeout(function (){        \n                    \n                    if(!ya_iniciado){\n\n                        wikitudePlugin.loadARchitectWorld(\n                                                    self.onARExperienceLoadedSuccessful, \n                                                    self.onARExperienceLoadError,\n                                                    arExperienceUrl,\n                                                    requiredFeatures,\n                                                    startupConfiguration\n                                                 );\n                        ya_iniciado = true;\n                        //document.addEventListener(\"backbutton\", self.backKeyDown);\n\n                  }  else wikitudePlugin.show();\n\n                  var ultim_pos = cordovaGeolocationService.getUltimaPosicion();\n\n                  if(ultim_pos != null){\n                    self.setPosPoisEnWikitude(ultim_pos.coords)\n                  }else{\n                    navigator.geolocation.getCurrentPosition( self.onLocationUpdated,  self.onLocationError);\n                  }\n\n                  \n                  \n\n                 // navigator.geolocation.watchPosition(self.onLocationWatch,  function(){}, { timeout: 30000 });\n                   \n                  Loading.ocultar();\n\n                }, 666);\n\n            }else{\n              alert('Este dispositivo no soporta AR');\n            // console.log (this.escapeSpecialChars(angular.toJson(lugaresService.get())))\n             console.log(this.escapeSpecialChars(angular.toJson(lugaresService.getDistancia())))\n\n            }\n            \n\n        },  \n\n        escapeSpecialChars: function($json){\n\n            return $json.replace(/'/g, \"\"); \n           \n        },\n\n\n        setPosPoisEnWikitude: function($coord){\n\n           wikitudePlugin.setLocation($coord.latitude, $coord.longitude,  $coord.altitude, $coord.accuracy);\n           wikitudePlugin.callJavaScript(\"setWorld('\" + this.escapeSpecialChars(angular.toJson(lugaresService.getDistancia())) + \"', '\" + this.escapeSpecialChars(angular.toJson(eventosService.getDistancia())) + \"');\");\n            \n        }, \n\n\n\n        onLocationWatch: function(e) {\n\n          //console.log(e.coords.latitude+'-'+e.coords.longitude+'-'+ e.coords.altitude+'-'+e.coords.accuracy)\n          //wikitudePlugin.setLocation(e.coords.latitude, e.coords.longitude,  e.coords.altitude, e.coords.accuracy);\n           \n        },\n       \n        onLocationUpdated: function(e) {\n\n           \n            wikitudePlugin.setLocation(e.coords.latitude, e.coords.longitude,  e.coords.altitude, e.coords.accuracy);\n            this.setPosPoisEnWikitude(e.coords)\n        },\n\n        onLocationError: function() {\n\n            alert('No hemos enctroado tu ubicacin global. Revisa tu configuracin del GPS.');\n            ToastService.show('No hemos enctroado tu ubicacin global. Revisa tu configuracin del GPS.', 'long', 'center');\n        },\n\n        onARExperienceLoadedSuccessful: function(loadedURL) {\n          \n\n\n        },\n        \n        onARExperienceLoadError: function(errorMessage) {\n      \n            ToastService.show('Ocurrio un error al cargar la realidad aumentada: ' + errorMessage, 'long', 'center');\n        },\n\n        onDeviceSupported:function(){\n            isDeviceSupported = true\n        },  \n\n        onDeviceNotSupported:function(errorMessage){\n            isDeviceSupported = false;\n            alert(errorMessage);\n        }\n\n\n    };\n\n});","/**\n * Angular Module relying on Apache Cordova Geolocation Plugin (cordova plugin add org.apache.cordova.Geolocation).\n */\nvar cordovaGeolocationModule = angular.module('cordovaGeolocationModule', []);\n\n// Constants\n\n/**\n * Constants service used in the whole module.\n */\ncordovaGeolocationModule.constant('cordovaGeolocationConstants', {\n    apiVersion: '1.0.0',\n    cordovaVersion: '>=3.4.0'\n});\n\n// Services\n\n/**\n * Main service relying on Apache Cordova Geolocation Plugin.\n */\ncordovaGeolocationModule.factory('cordovaGeolocationService', ['$rootScope', '$log', 'cordovaGeolocationConstants', function ($rootScope, $log, cordovaGeolocationConstants) {\n   \n    var pocision = null;\n\n    return {\n        /**\n         * Return the current API version.\n         */\n        apiVersion: function () {\n            $log.debug('cordovaGeolocationService.apiVersion.');\n            return cordovaGeolocationConstants.apiVersion;\n        },\n\n        /**\n         * Return the cordova API version.\n         */\n        cordovaVersion: function () {\n            $log.debug('cordovaGeolocationService.cordovaVersion.');\n            return cordovaGeolocationConstants.cordovaVersion;\n        },\n\n        /**\n         * Check the geolocation plugin availability.\n         * @returns {boolean}\n         */\n        checkGeolocationAvailability: function () {\n            $log.debug('cordovaGeolocationService.checkGeolocationAvailability.');\n            if (!navigator.geolocation) {\n                $log.warn('Geolocation API is not available.');\n                return false;\n            }\n            return true;\n        },\n\n        /**\n         * Returns the device's current position to the geolocationSuccess callback with a Position object as the parameter.\n         * For more information: https://github.com/apache/cordova-plugin-geolocation/blob/master/doc/index.md#navigatorgeolocationgetcurrentposition\n         */\n        getCurrentPosition: function (successCallback, errorCallback, options) {\n            $log.debug('cordovaGeolocationService.getCurrentPosition.');\n\n            // Checking API availability\n            if (!this.checkGeolocationAvailability()) {\n             \n                return;\n            }\n\n            // API call\n            navigator.geolocation.getCurrentPosition(\n\n                function (position) {\n\n                    pocision = position;\n                    $rootScope.$apply(successCallback(position));\n\n                },\n                function (error) {\n                    $rootScope.$apply(errorCallback(error));\n                },\n                options\n            );\n        },\n\n\n        getUltimaPosicion: function(){\n\n            return pocision;\n\n        }, \n        watchPosition: function () {\n        \n            // Checking API availability\n            if (!this.checkGeolocationAvailability()) {\n                return;\n            }\n\n            // API call\n            return navigator.geolocation.watchPosition(\n\n               function(position) {\n                    \n\n                     pocision = position;\n                     $rootScope.position = position;\n                     $rootScope.$apply()\n\n                }, function onError(error) {\n                  /*  alert('code: '    + error.code    + '\\n' +\n                          'message: ' + error.message + '\\n');*/\n                }\n            );\n        },\n\n        /**\n         * Stop watching for changes to the device's location referenced by the watchID parameter.\n         * For more information: https://github.com/apache/cordova-plugin-geolocation/blob/master/doc/index.md#navigatorgeolocationclearwatch\n         */\n        clearWatch: function (watchID) {\n            $log.debug('cordovaGeolocationService.clearWatch.');\n\n            // Checking API availability\n            if (!this.checkGeolocationAvailability()) {\n                return;\n            }\n\n            // API call\n            navigator.geolocation.clearWatch(watchID);\n        }\n    };\n}]);\n\n\n","geobarApp.service('favService', function($window){\n\n    this.all = {};\n   \n    this.setAll = function(){ \n        try{\n            this.all =  JSON.parse( $window.localStorage.getItem('favs'));\n        }catch(e){}\n        \n    };\n\n    this.getAll = function (){\n        return  this.all \n    };\n\n    this.getCantFavPoriId = function($idPoi) {\n        return this.all['p_' + $idPoi];\n    };\n\n    this.setFav =  function($idPoi, $val) {\n\n        var valor_actual = 0;\n        if(!angular.isUndefined(this.all['p_' + $idPoi])){\n            valor_actual =  parseInt(this.all['p_' + $idPoi]);\n        }\n\n        if($val == 0)  this.all['p_' + $idPoi] = valor_actual - 1;\n        if($val == 1)  this.all['p_' + $idPoi] = valor_actual + 1;\n\n    }\n\n});\n\n","geobarApp.service('Loading',function(){\n\t\t\t\t\n\t\t\t\tvar element = null;\n\n\t\t\t\tthis.ocultar = function (){\n\t\t\t\t\telement.css('display','none');\n\t\t\t\t};\n\n\t\t\t\tthis.mostrar = function(){\n\t\t\t\t\telement.css('display','block');\n\t\t\t\t};\n\n\t\t\t\tthis.setInstancia = function ($elem){\n\t\t\t\t\telement = $elem;\n\t\t\t\t}\n\t\t\n});\n\n\n\t\t\n\n","geobarApp.factory('lugaresService', function($window, cordovaGeolocationService, DistancePostion){\n\n\tvar all = [];\n    var all_a_distancia = [];\n    var distancia_cargada = 5000;\n\n\treturn {\n\n\t\tsetAll: function() {\n\n            distancia_cargada = $window.localStorage.getItem('distancia');\n\n            var bares = $window.localStorage.getItem('bares');\n            var restaurantes = $window.localStorage.getItem('restaurantes');\n            var cines = $window.localStorage.getItem('cines');\n            var teatro = $window.localStorage.getItem('cines');\n\n            var array_entero =  JSON.parse( window.localStorage.getItem('json_lugares'));\n            var cantidad_lugares = array_entero.length;\n            all = [];\n            all_a_distancia =  [];\n            for(var i=0; i<cantidad_lugares; i++){\n\n               if(array_entero[i].tipo == 1 && bares==1) this.addPoiToAll(array_entero[i]); \n               if(array_entero[i].tipo == 2 && restaurantes==1) this.addPoiToAll(array_entero[i]);\n               if(array_entero[i].tipo == 3 && cines==1) this.addPoiToAll(array_entero[i]);\n               if(array_entero[i].tipo == 5 && teatro==1) this.addPoiToAll(array_entero[i]);\n              \n            }\n\n            all.sort(this.compare);\n\n\n        },\n\n        compare : function (a, b) {\n        \n          if(typeof(a.distancia) != 'undefined'){\n\n              if (a.distancia < b.distancia)\n                return -1;\n              if (a.distancia > b.distancia)\n                return 1;\n          }\n        \n           return 0;\n\n        }, \n\n     \n\n        addPoiToAll:function ($poi){\n\n            var my_pos = cordovaGeolocationService.getUltimaPosicion();\n        \n            if(my_pos!=null){\n\n                var d = DistancePostion.enKilometros(my_pos.coords.latitude, my_pos.coords.longitude, $poi.lat, $poi.lon);\n                $poi['distancia'] = d;\n                \n                if(d <= distancia_cargada){\n\n                    var nuevoPoi = $poi;\n                        nuevoPoi.name = nuevoPoi.name.replace(/\"/g, \"\");\n                        nuevoPoi.dir = nuevoPoi.dir.replace(/\"/g, \"\");\n                        all_a_distancia.push(nuevoPoi)\n\n                }\n\n                    \n\n            }\n\n\n\n            all.push($poi);  \n\n\n\n        },\n\n        getDistancia: function() {\n            return all_a_distancia;\n        },\n\n        get: function() {\n            return all;\n        }\n    };\n\n});\n\ngeobarApp.factory('eventosService', function(cordovaGeolocationService, DistancePostion, $window){\n\n    var all = [];\n    var all_a_distancia =   [];\n    var distancia_cargada;\n\n    return {\n        \n        setAll: function() {\n\n            distancia_cargada = $window.localStorage.getItem('distancia');\n\n            var array_entero  = JSON.parse( window.localStorage.getItem('json_eventos'));\n\n            var cantidad = array_entero.length;\n            all = [];\n            all_a_distancia =   [];\n\n            var my_pos = cordovaGeolocationService.getUltimaPosicion();\n            \n            for(var i=0; i<cantidad; i++){\n\n                if(my_pos!=null){\n\n                    var dist = DistancePostion.enKilometros(my_pos.coords.latitude, my_pos.coords.longitude, array_entero[i].lat, array_entero[i].lon);\n                    array_entero[i]['distancia'] = dist\n                   \n\n                }\n\n                var d = new Date();\n                var hoy = new Date(d.getFullYear(),d.getMonth(), d.getDate());\n\n                //2015-03-08 00:00:00\n                var array_pub_ini =  String(array_entero[i].pub_ini).split(' ');\n                var fecha_pub_ini =  array_pub_ini[0].split('-');\n                var pub_ini = new Date(Number(fecha_pub_ini[0]), Number(fecha_pub_ini[1])-1, Number(fecha_pub_ini[2]));\n\n                var array_pub_fin =  String(array_entero[i].pub_fin).split(' ');\n                var fecha_pub_fin =  array_pub_fin[0].split('-');\n                var pub_fin = new Date(Number(fecha_pub_fin[0]), Number(fecha_pub_fin[1])-1, Number(fecha_pub_fin[2]));\n\n                if(hoy.getTime() >= pub_ini.getTime() && hoy.getTime()<= pub_fin.getTime()){\n\n                    all.push(array_entero[i]);  \n\n                    if(dist <= distancia_cargada){\n                        var nuevoPoi = array_entero[i];\n                            nuevoPoi.name = nuevoPoi.name.replace(/\"/g, \"\");\n                            nuevoPoi.dir = nuevoPoi.dir.replace(/\"/g, \"\");\n                            all_a_distancia.push(nuevoPoi)\n                    }\n                }\n            }\n\n            all.sort(this.compare);\n            \n\n        },\n\n        compare : function (a, b) {\n    \n              if(typeof(a.distancia) != 'undefined'){\n\n                  if (a.distancia < b.distancia)\n                    return -1;\n                  if (a.distancia > b.distancia)\n                    return 1;\n              }\n            \n              return 0;\n\n        }, \n\n        getDistancia: function() {\n            return all_a_distancia;\n        },\n        get: function() {\n            return all;\n        }\n    };\n\n});\n\n","geobarApp.service('mapaService', function(){\n\n\tvar map = null;\n\tthis.init = function(){\n\t\ttry{\n\t\t\tmap = plugin.google.maps.Map.getMap();\n            map.on(plugin.google.maps.event.MAP_READY, function () {\n                map.setClickable( false );\n            });\n\t\t}catch(e){}\n            \n\t};\n\n\n \tthis.mostrar = function(){\n\n \t\tvar div = document.getElementById('map_canvas');\n \t\t\tdiv.style.height = (window.innerHeight-80) + 'px';\n\n \t\tif(map){\n \t\t\tmap.setVisible(true);\n \t\t\tmap.setClickable(true);\n \t\t\tmap.setDiv(div);\n \t\t\tmap.refreshLayout();\n\n \t\t\tvar onSuccess = function(location) {\n\n\t\t\t\t    map.setOptions({\n\t\t\t\t\t  'controls': {\n\t\t\t\t\t    'compass': true,\n\t\t\t\t\t    'myLocationButton': true,\n\t\t\t\t\t    'zoom': true // Only for Android\n\t\t\t\t\t  }\n\t\t\t\t\t});\n\t\t\t\t  \n\t\t\t\t\tmap.animateCamera({\n\t\t\t\t\t  'target': location.latLng,\n\t\t\t\t\t  'duration': 2000\n\t\t\t\t\t}, function() {\n\t\t\t\t\t\n\t\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar onError = function(msg) {\n\t\t\t  alert(\"error: \" + msg);\n\t\t\t};\n\n\t\t\tmap.getMyLocation(onSuccess, onError);\n\n\n \t\t}\n\n\n\n\n \t};\n\n\n \tthis.ocultar = function (){\n\n \t\tif(map) {\n \t\t\tmap.setVisible(false);\n \t\t\tmap.setClickable( false );\n \t\t\t\n \t\t}\n\n \t}\n\n});\n","geobarApp.service('navigateService', function($log, mapaService, $rootScope, $injector){\n\n\tvar en_seccion = '';\n\tvar historia = [];\n\tvar ultima_seccion_eliminada_de_historia = null;\n\tvar self = this;\n\n\tthis.status = 0;\n \t//this.dir_animate  = 'enterSeccion';\n \tthis.secciones = {};\n \tthis.active_page = 'home';\n\t// // Here is your tag\n \tdocument.addEventListener(\"backbutton\", backKeyDown, false);\n\n\n\n \tfunction backKeyDown(){\n\n \t\t$rootScope.$apply(function(){\n \t\t\tself.back();\n \t\t\tvar arService = $injector.get('arService');\n \t\t\tarService.hide()\n \t\t\t\n \t\t})\n\n \t}\n\n \tthis.esPrimerPage = function(){\t\n \t\treturn (historia.length==1);\n \t};\n\n \tthis.setSecciones = function ($key, $init){\n \t\t\n \t\tthis.secciones[$key] = $init;\n \t\t\n \t};\n\n\tthis.go = function (secc, obj, entra_a_historia, $dir_animate, $recargar){\n\n\t\tif(typeof obj == 'undefined') obj = null;\n\t\tif(typeof $recargar == 'undefined') $recargar = true;\n\n\t\tswitch(secc){\n\t\t\t\n\t\t\tcase 'home':\n\t\t\t\t\n\t\t\t\tif(!$recargar) go_execute(secc, obj, entra_a_historia, $dir_animate);\n\t\t\t\telse{\n\t\t\t\t\tthis.secciones['home'](obj, function(){\n\t\t\t\t\t\tgo_execute(secc, obj, entra_a_historia, $dir_animate)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'detalle':\n\t\t\t\t\n\t\t\t\tif(!$recargar) go_execute(secc, obj, entra_a_historia, $dir_animate);\n\t\t\t\telse{\n\t\t\t\t\tthis.secciones['detalle'](obj, function(){\n\t\t\t\t\t\tgo_execute(secc, obj, entra_a_historia, $dir_animate)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'mapa':\n\t\t\t\n\t\t\t\tif(!$recargar) go_execute(secc, obj, entra_a_historia, $dir_animate);\n\t\t\t\telse{\n\t\t\t\t\tgo_execute(secc, obj, entra_a_historia, $dir_animate);\n\t\t\t\t\tthis.secciones['mapa'](obj);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'lista':\n\n\t\t\t\tif(!$recargar) go_execute(secc, obj, entra_a_historia, $dir_animate);\n\t\t\t\telse{\n\t\t\t\t\tthis.secciones['lista'](obj);\n\t\t\t\t\tgo_execute(secc, obj, entra_a_historia, $dir_animate)\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tgo_execute(secc, obj, entra_a_historia, $dir_animate);\n\t\t\t\tbreak;\n\t\t}\n\n\t};\n\n\tfunction go_execute(secc, obj, entra_a_historia, $dir_animate){\n\n\t\tif(typeof entra_a_historia == 'undefined') entra_a_historia = true;\n\n\t\tif(entra_a_historia) $rootScope.dirAnim = 'enter';\n\t\telse $rootScope.dirAnim = 'back';\n\n\t\t\tself.dir_animate  = $dir_animate;\n\t\t\tself.active_page = secc;\n\t\t\t\n\t\t\tif(historia.length>0){\n\t\t\t\tif(historia[historia.length-1].secc == secc) entra_a_historia = false;\n\t\t\t}\n\n\t\t\tif(entra_a_historia) historia.push({'secc': secc, 'obj': obj});\n\t\t\ten_seccion = secc;\n\t\t\t\n\t\t\tself.status++;\n\n\t}\n\n\n\n\tthis.back = function (){\n\n\t\tultima_seccion_eliminada_de_historia = historia[historia.length-1];\n\t\tif(historia.length>1) historia.pop();\n\t\t\n\t\t\tsetTimeout(function(){\n\t\t\t\tultima_seccion_eliminada_de_historia =  null;\n\t\t\t},100);\n\n\t\tvar penultimo_elemento = historia[historia.length-1];\t\n\t\tvar recargar = false;\n\t\tif(penultimo_elemento.secc == 'mapa') recargar = true;\n\n\t\tthis.go(penultimo_elemento.secc, penultimo_elemento.obj, false, 'backSeccion', recargar);\n\t};\n\n\n\n\tthis.habilTranciosinar = function ($secc){\n\t\t\t\n\t\t\tif(ultima_seccion_eliminada_de_historia !=  null && ultima_seccion_eliminada_de_historia.secc == $secc) return true;\n\t\t\tvar elem;\n\t\t\tif(historia.length>0){\n\t\t\t\telem = historia[historia.length-1];\n\t\t\t\tif(elem.secc == $secc)  return true;\n\t\t\t}\n\t\t\tif(this.dir_animate == 'enterSeccion' && historia.length > 1){\n\t\t\t\t elem = historia[historia.length-2];\n\t\t\t\tif(elem.secc == $secc)  return true;\n\t\t\t}\n\t\t\treturn false;\n\t}\n\n});\n","geobarApp.factory('regService', function () {\n\n    var scope = null;\n    var _callback_ok = null;\n    var _callback_cancel = null;\n\n    return {\n\n        set: function ($scope) {\n\n            scope = $scope\n\n\n        },\n        setCallbacks: function ($callback_ok, $callback_cancel) {\n            _callback_ok = $callback_ok;\n            _callback_cancel = $callback_cancel;\n        },\n        mostrar: function ($callback_ok, $callback_cancel) {\n            _callback_ok = $callback_ok;\n            _callback_cancel = $callback_cancel;\n            scope.mostrar();\n        },\n\n        ocultar: function () {\n\n            scope.mostrar()\n\n        },\n\n        callback_ok: function () {\n\n            if (_callback_ok != null) _callback_ok()\n\n        },\n\n        callback_cancel: function () {\n\n            if (_callback_cancel != null) _callback_cancel()\n\n        }\n\n\n    }\n\n});\n\n\n","angular.module('Utils',[]) \n\n    .factory('DistancePostion', function(){\n\t   \n       return {\n            enKilometros:function(lat1, lon1, lat2, lon2) {\n\n                var unit = \"K\";\n\n                var radlat1 = Math.PI * lat1/180;\n                var radlat2 = Math.PI * lat2/180;\n             /*   var radlon1 = Math.PI * lon1/180;\n                 var radlon2 = Math.PI * lon2/180;*/\n                var theta = lon1-lon2;\n                var radtheta = Math.PI * theta/180;\n                var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n                dist = Math.acos(dist);\n                dist = dist * 180/Math.PI;\n                dist = dist * 60 * 1.1515;\n                if (unit==\"K\") { dist = dist * 1.609344 }\n                if (unit==\"N\") { dist = dist * 0.8684 }\n                return dist\n            }\n    }}) \n\n    .directive('fadeIn', function($timeout){\n        return {\n            restrict: 'A',\n            link: function($scope, $element, attrs){\n                $element.addClass(\"ng-hide-remove\");\n                $element.on('load', function() {\n                    \n                   $element.addClass(\"ng-hide-add\");\n                  \n                });\n            }\n        }\n    });\n\n\n","// install   :     cordova plugin add cordova-plugin-device\n// link      :     https://github.com/apache/cordova-plugin-device\n\n/* globals device: true */\nangular.module('ngCordova.plugins.device', [])\n\n  .factory('$cordovaDevice', [function () {\n\n    return {\n      /**\n       * Returns the whole device object.\n       * @see https://github.com/apache/cordova-plugin-device\n       * @returns {Object} The device object.\n       */\n      getDevice: function () {\n        return device;\n      },\n\n      /**\n       * Returns the Cordova version.\n       * @see https://github.com/apache/cordova-plugin-device#devicecordova\n       * @returns {String} The Cordova version.\n       */\n      getCordova: function () {\n        return device.cordova;\n      },\n\n      /**\n       * Returns the name of the device's model or product.\n       * @see https://github.com/apache/cordova-plugin-device#devicemodel\n       * @returns {String} The name of the device's model or product.\n       */\n      getModel: function () {\n        return device.model;\n      },\n\n      /**\n       * @deprecated device.name is deprecated as of version 2.3.0. Use device.model instead.\n       * @returns {String}\n       */\n      getName: function () {\n        return device.name;\n      },\n\n      /**\n       * Returns the device's operating system name.\n       * @see https://github.com/apache/cordova-plugin-device#deviceplatform\n       * @returns {String} The device's operating system name.\n       */\n      getPlatform: function () {\n        return device.platform;\n      },\n\n      /**\n       * Returns the device's Universally Unique Identifier.\n       * @see https://github.com/apache/cordova-plugin-device#deviceuuid\n       * @returns {String} The device's Universally Unique Identifier\n       */\n      getUUID: function () {\n        return device.uuid;\n      },\n\n      /**\n       * Returns the operating system version.\n       * @see https://github.com/apache/cordova-plugin-device#deviceversion\n       * @returns {String}\n       */\n      getVersion: function () {\n        return device.version;\n      },\n\n      /**\n       * Returns the device manufacturer.\n       * @returns {String}\n       */\n      getManufacturer: function () {\n        return device.manufacturer;\n      }\n    };\n  }]);\n","// install   :   cordova -d plugin add https://github.com/Wizcorp/phonegap-facebook-plugin.git --variable APP_ID=\"123456789\" --variable APP_NAME=\"myApplication\"\n// link      :   https://github.com/Wizcorp/phonegap-facebook-plugin\n\n/* globals facebookConnectPlugin: true */\nangular.module('ngCordova.plugins.facebook', [])\n\n  .provider('$cordovaFacebook', [function () {\n\n    /**\n      * Init browser settings for Facebook plugin\n      *\n      * @param {number} id\n      * @param {string} version\n      */\n    this.browserInit = function (id, version) {\n      this.appID = id;\n      this.appVersion = version || 'v2.0';\n      facebookConnectPlugin.browserInit(this.appID, this.appVersion);\n    };\n\n    this.$get = ['$q', function ($q) {\n      return {\n        login: function (permissions) {\n          var q = $q.defer();\n          facebookConnectPlugin.login(permissions, function (res) {\n            q.resolve(res);\n          }, function (res) {\n            q.reject(res);\n          });\n\n          return q.promise;\n        },\n\n        showDialog: function (options) {\n          var q = $q.defer();\n          facebookConnectPlugin.showDialog(options, function (res) {\n            q.resolve(res);\n          }, function (err) {\n            q.reject(err);\n          });\n          return q.promise;\n        },\n\n        api: function (path, permissions) {\n          var q = $q.defer();\n          facebookConnectPlugin.api(path, permissions, function (res) {\n            q.resolve(res);\n          }, function (err) {\n            q.reject(err);\n          });\n          return q.promise;\n        },\n\n        getAccessToken: function () {\n          var q = $q.defer();\n          facebookConnectPlugin.getAccessToken(function (res) {\n            q.resolve(res);\n          }, function (err) {\n            q.reject(err);\n          });\n          return q.promise;\n        },\n\n        getLoginStatus: function () {\n          var q = $q.defer();\n          facebookConnectPlugin.getLoginStatus(function (res) {\n            q.resolve(res);\n          }, function (err) {\n            q.reject(err);\n          });\n          return q.promise;\n        },\n\n        logout: function () {\n          var q = $q.defer();\n          facebookConnectPlugin.logout(function (res) {\n            q.resolve(res);\n          }, function (err) {\n            q.reject(err);\n          });\n          return q.promise;\n        }\n      };\n    }];\n  }]);\n","// install   :      cordova plugin add cordova-plugin-network-information\n// link      :      https://github.com/apache/cordova-plugin-network-information\n\n/* globals Connection: true */\nangular.module('ngCordova.plugins.network', [])\n\n  .factory('$cordovaNetwork', ['$rootScope', '$timeout', function ($rootScope, $timeout) {\n\n    /**\n      * Fires offline a event\n      */\n    var offlineEvent = function () {\n      var networkState = navigator.connection.type;\n      $timeout(function () {\n        $rootScope.$broadcast('$cordovaNetwork:offline', networkState);\n      });\n    };\n\n    /**\n      * Fires online a event\n      */\n    var onlineEvent = function () {\n      var networkState = navigator.connection.type;\n      $timeout(function () {\n        $rootScope.$broadcast('$cordovaNetwork:online', networkState);\n      });\n    };\n\n    document.addEventListener('deviceready', function () {\n      if (navigator.connection) {\n        document.addEventListener('offline', offlineEvent, false);\n        document.addEventListener('online', onlineEvent, false);\n      }\n    });\n\n    return {\n      getNetwork: function () {\n        return navigator.connection.type;\n      },\n\n      isOnline: function () {\n        var networkState = navigator.connection.type;\n        return networkState !== Connection.UNKNOWN && networkState !== Connection.NONE;\n      },\n\n      isOffline: function () {\n        var networkState = navigator.connection.type;\n        return networkState === Connection.UNKNOWN || networkState === Connection.NONE;\n      },\n\n      clearOfflineWatch: function () {\n        document.removeEventListener('offline', offlineEvent);\n        $rootScope.$$listeners['$cordovaNetwork:offline'] = [];\n      },\n\n      clearOnlineWatch: function () {\n        document.removeEventListener('online', onlineEvent);\n        $rootScope.$$listeners['$cordovaNetwork:online'] = [];\n      }\n    };\n  }])\n  .run(['$injector', function ($injector) {\n    $injector.get('$cordovaNetwork'); //ensure the factory always gets initialised\n  }]);\n","\n// install   :      cordova plugin add phonegap-plugin-push\n// link      :      https://github.com/phonegap/phonegap-plugin-push\n\nangular.module('ngCordova.plugins.push_v5', [])\n  .factory('$cordovaPushV5',['$q', '$rootScope', '$timeout', function ($q, $rootScope, $timeout) {\n   /*global PushNotification*/\n\n    var push;\n    return {\n      initialize : function (options) {\n        var q = $q.defer();\n        push = PushNotification.init(options);\n        q.resolve(push);\n        return q.promise;\n      },\n      onNotification : function () {\n        $timeout(function () {\n          push.on('notification', function (notification) {\n            $rootScope.$emit('$cordovaPushV5:notificationReceived', notification);\n          });\n        });\n      },\n      onError : function () {\n        $timeout(function () {\n          push.on('error', function (error) { $rootScope.$emit('$cordovaPushV5:errorOccurred', error);});\n        });\n      },\n      register : function () {\n        var q = $q.defer();\n        if (push === undefined) {\n          q.reject(new Error('init must be called before any other operation'));\n        } else {\n          push.on('registration', function (data) {\n            q.resolve(data.registrationId);\n          });\n        }\n        return q.promise;\n      },\n      unregister : function () {\n        var q = $q.defer();\n        if (push === undefined) {\n          q.reject(new Error('init must be called before any other operation'));\n        } else {\n          push.unregister(function (success) {\n            q.resolve(success);\n          },function (error) {\n            q.reject(error);\n          });\n        }\n        return q.promise;\n      },\n      setBadgeNumber : function (number) {\n        var q = $q.defer();\n        if (push === undefined) {\n          q.reject(new Error('init must be called before any other operation'));\n        } else {\n          push.setApplicationIconBadgeNumber(function (success) {\n            q.resolve(success);\n          }, function (error) {\n            q.reject(error);\n          }, number);\n        }\n        return q.promise;\n      }\n    };\n  }]);\n","geobarApp.directive('botonBase', function() {\n  return {\n    \n    restrict: 'AE', \n    scope: {\n    \t\thabil: '@',\n    \t\taccion: '&'\n\t},\n    link: function(scope, elem){\n\n    \tif(typeof scope.habil == 'undefined') scope.habil = true;\n    \telem.bind('touchstart', function(){\n            if(!elem.hasClass('botonDisabled')){\n                elem.addClass('botonOver');\n              \n                scope.$apply();\n\n              try{\n                if(device.platform == 'Android')  navigator.vibrate(50)    \n            }catch(e){}\n            \n            }\n    \t});\n\n    \telem.on('touchend', function(){\n    \t\telem.removeClass('botonOver');\n              scope.accion();\n               scope.$apply()\n    \t})\n\n        \n    }\n  };\n});","geobarApp.directive('botonSistema', function() {\n  return {\n    \n    restrict: 'AE', \n    scope: {\n    \t\thabil: '@',\n    \t\taccion: '&',\n    \t\timagen: '@',\n    \t\ttxt:  '@'\n\t\t\t\n\t},\n\n    template: \"<img src='{{imagen}}' /><div  class='botonSistemaLabel ' ng-if=' txt!=undefined '>{{txt}}</div>\", \n\n    link: function(scope, elem){\n\n    \tif(typeof scope.habil == 'undefined') scope.habil = true;\n\n    \telem.bind('touchstart', function(){\n\n            if(!elem.hasClass('botonDisabled')){\n                elem.addClass('botonOver')\n            }\n            try{\n                if(device.platform == 'Android')  navigator.vibrate(50)    \n            }catch(e){}\n            \n    \t});\n\n    \telem.on('touchend', function(){\n          \n    \t\telem.removeClass('botonOver');\n               scope.accion();\n               scope.$apply()\n    \t})\n\n\n    }\n  };\n});","geobarApp.directive('botonLista', function() {\n  return {\n    \n    restrict: 'A', \n  \n    link: function(scope, elem){\n\n        function touch_move(){\n\n             elem.removeClass('botonListaOver');\n             elem.unbind('touchmove', touch_move)\n        }\n    \telem.bind('touchstart', function(){\n            try{\n                 elem.unbind('touchmove', touch_move);\n                  elem.removeClass('botonListaOver')\n            }catch(e){}\n            elem.bind('touchmove', touch_move);\n            elem.addClass('botonListaOver');\n\n         try{\n                if(device.platform == 'Android')  navigator.vibrate(50)    \n            }catch(e){}\n            \n    \t});\n\n    \telem.on('touchend', function(){\n          \n    \t\t  elem.removeClass('botonListaOver');\n              elem.unbind('touchmove', touch_move)  \n    \t})\n\n    }\n  };\n});","geobarApp.directive('checkBox', function() {\n  return {\n    \n    restrict: 'E', \n    scope: {\n    \tchecked: '=',\n        accion: '&'\n\t},\n    template:'<div class=\"checkBox-bg\"><div class=\"checkBox-selected\" ng-show=\" checked==1\"></div></div>',\n\n    link: function(scope, elem){\n\n        elem.addClass('checkBox');\n\n\n    \telem.on('touchend', function(){\n         \n    \t\t if(scope.checked == 1) scope.checked = 0;\n             else scope.checked = 1;\n             scope.$apply();\n             scope.accion()\n             \n    \t})\n\n        \n    }\n  };\n});","geobarApp.directive('elLoading', function(Loading){\n\t\t\t\treturn {\n\t\t\t\t\trestrict:'E',\n\t\t\t\t\ttemplate:'<div><img src=\"img/loader.png\" /></div>',\n\n\t\t\t\t\tcompile:function(element, attributes){\n\t\t\t\t\t\t\n\t\t\t\t\t\tLoading.setInstancia(element);\n\n\t\t\t\t\t}\n\t\t\t\t}\n});","geobarApp.directive('imgLoader', function() {\n  return {\n    \n    restrict: 'E', \n   \n    scope:{\n\n      imgurl: '=',\n      hashfile: '@',\n      itemid: '=',\n      itemtipo: '='\n\n    },\n\n    template : '<img class=\"item-lista-img\" ng-src=\"{{ imagen }}\" />', \n    link: function(scope, elem){\n\n       \n        \n        scope.$watch('hashfile', function(){\n           scope.imagen = scope.imgurl + scope.hashfile\n        });\n\n        elem.children('img')[0].onerror = function () {\n            scope.imagen = 'img/default/thumb_' + scope.itemtipo + '.png';\n            scope.$apply()\n        };\n      \n\n    }\n  };\n});\n\n\n//server=\"{{}}\" default=''","geobarApp.directive('touchSlider', function ($document, Loading, SERVER, $log, navigateService) {\n\n    return {\n\n        restrict: 'E',\n\n        scope: {\n            fotos: '=',\n            urlImgs: '=',\n            imgDefault: '@'\n\n        },\n\n        templateUrl: 'directivas/componentes/touchSlider/touchSlider.html',\n\n        link: function (scope, elem, attrs) {\n\n            scope.t = 0;\n            scope.pagina = 0;\n            scope.enx = 0;\n            scope.server = SERVER;\n            var offsetX = 0;\n            var finX = 0;\n            var ultimo_x = 0;\n            var cien_porciento = window.innerWidth;\n\n            scope.array_src_fotos = [];\n\n\n            scope.$watch('fotos', function ($oldV, $newV) {\n\n                scope.t = 0;\n                scope.pagina = 0;\n                scope.enx = 0;\n\n\n                if (scope.fotos && typeof(scope.fotos[0]) == 'object') {\n\n                    scope.array_src_fotos = [];\n\n                    for (var obj_home in scope.fotos) {\n                        scope.array_src_fotos.push(scope.fotos[obj_home].home_img)\n                    }\n\n\n                } else {\n\n                    scope.array_src_fotos = scope.fotos\n                }\n\n            });\n\n            elem.bind('touchstart', function (e) {\n\n                scope.t = '0s';\n                offsetX = (e.touches[0].clientX);\n                ultimo_x = scope.enx;\n                scope.$apply();\n\n                addListener()\n\n            });\n\n            function doMove(e) {\n                scope.enx = Math.round(e.touches[0].clientX - offsetX + ultimo_x);\n\n                scope.$apply();\n\n            }\n\n            function doEnd(e) {\n\n                finX = e.changedTouches[0].clientX;\n\n                if ((finX - offsetX) > -10 && (finX - offsetX) < 10) {\n                    scope.t = '.2s';\n                    scope.enx = -(scope.pagina * cien_porciento);\n                    ultimo_x = scope.enx;\n                    scope.$apply();\n                    removeListener();\n                    if (scope.fotos[scope.pagina].home_og_poi > 0) {\n\n                        var item = {};\n                        item.id = scope.fotos[scope.pagina].home_og_poi;\n                        setTimeout(function () {\n\n                            navigateService.go('detalle', item);\n\n\n                        }, 300)\n\n\n                    }\n\n\n                    //alert(scope.fotos[scope.pagina].home_og_poi)\n\n                    return;\n                }\n\n                if (offsetX > finX) {\n                    scope.pagina++\n                } else {\n                    scope.pagina--\n                }\n\n                if (scope.pagina < 0) scope.pagina = 0;\n                if (scope.pagina >= scope.fotos.length) scope.pagina = scope.fotos.length - 1;\n\n                scope.t = '.2s';\n                scope.enx = -(scope.pagina * cien_porciento);\n                ultimo_x = scope.enx;\n\n                scope.$apply();\n                removeListener()\n            }\n\n            function addListener() {\n\n                $document.on('touchmove', doMove);\n\n                $document.on('touchend', doEnd);\n            }\n\n            function removeListener() {\n                $document.off('touchmove', doMove);\n                $document.off('touchend', doEnd)\n            }\n\n        }\n    };\n});","geobarApp.directive('config', function($rootScope, ToastService, regService, $timeout, $cordovaNetwork, $window, $http, lugaresService, eventosService, SERVER, Loading) {\n  \n  return {\n    restrict: 'E',\n    templateUrl: 'directivas/secciones/config/config.html',\n\t  scope:{caca:'@'},\n    \n    link:function (scope){\n      \n      scope.screen_alto = window.innerHeight;\n\t   \tscope.visible = true;\n      \n      scope.chkBares = $window.localStorage.getItem('bares');\n      scope.chkRestaurantes = $window.localStorage.getItem('restaurantes');\n      scope.chkCines = $window.localStorage.getItem('cines');\n      scope.chkTeatros = $window.localStorage.getItem('teatros');\n      scope.distancia = $window.localStorage.getItem('distancia');\n\t\t  scope.chkPush = $window.localStorage.getItem('push');\n\n      scope.$watch('distancia', function(){\n     \n        $window.localStorage.setItem('distancia',  scope.distancia);\n           \n        lugaresService.setAll();\n        eventosService.setAll()\n        \n      });\n\n\n      scope.setPush = function($clave, $val){\n\n          var isOnline;\n\n          try{\n            \n            isOnline = $cordovaNetwork.isOnline();\n\n          }catch(e){\n\n            isOnline = true;\n          }\n\n          if(isOnline) {\n              \n              scope.update($clave, $val);\n\n\n          }else{\n              \n               ToastService.show('Debes conectarte a internet para llevar a cabo esta accin.', 'long', 'center');\n             \n               $timeout(function(){\n                    scope.chkPush = $val==1?0:1;\n               })\n          }\n          \n      };\n\n      scope.goReg = function (){\n\n        regService.mostrar(function (){}, function (){})\n\n      };\n\n      scope.update = function ($clave, $val){\n        \n\n        if($clave=='push'){\n\n          Loading.mostrar();\n\n          var  req = {\n               method: 'POST',\n               url: SERVER + 'ws.php?method=setPush',\n               headers: {\n                 'Content-Type':  'application/x-www-form-urlencoded;charset=utf-8'\n               },\n               data: {token: $rootScope.pushToken, act: $val}\n          };\n\n          $http(req).then( \n\n              function(){\n                  Loading.ocultar()\n\n              }, function(){\n                  Loading.ocultar()\n                \n              }\n          );\n\n          \n        }\n\n        $window.localStorage.setItem($clave,  $val);\n        lugaresService.setAll();\n        $rootScope.$broadcast('cambioListaLugares');\n\n\n      }\n\n      \n\n    }\n  \n\n  };\n});","geobarApp.directive('detalle', function(navigateService, ToastService, Loading, $http, SERVER, $window, $timeout, regService, favService) {\n  \n  return {\n  \t\n    restrict: 'E',\n    scope: {},\n    templateUrl: 'directivas/secciones/detalle/detalle.html',\n\n    link:function ($scope){\n\t\t\n    \tvar _callback;\n    \t$scope.navigateService = navigateService;\n    \n    \t$scope.goMapa = function (){\n    \t\t\n    \t\t\n    \t   if ($window.google && $window.google.maps) {  \n              navigateService.go('mapa', {type:'item', item: $scope.item});\n           }else{\n              ToastService.show('Debes conectarte a internet para ver el mapa.', 'long', 'center');\n           }\n    \t};\n    \t\n    \t$scope.goTel =  function (){\n\n    \t\t$window.open('tel://' + $scope.item.tel);\n    \t\t\n    \t};\n\n    \t$scope.goFav =  function (){\n\n\n\t\t\t\tvar  userId= $window.localStorage.getItem('userId');\n\t\t\t\n\t\t\t\tif(userId==0){\n\n\t\t\t\t\tregService.mostrar(marcar_como_favorito, function (){})\n\n\t\t\t\t}else{\n\n\t\t\t\t\tmarcar_como_favorito()\n\n\t\t\t\t}\n\n\n    \t\t\n\n    \t};\n\n    \tfunction marcar_como_favorito(){\n\n\n    \t\tvar  userId = $window.localStorage.getItem('userId');\n\n            var objSend = {\n                userId : userId, \n                poiId: $scope.item.id\n            };\n            \n            var  req = {\n                 method: 'POST',\n                 url: SERVER + 'ws.php?method=setFav',\n                 headers: {\n                   'Content-Type':  'application/x-www-form-urlencoded;charset=utf-8'\n                 },\n                 data: objSend\n            };\n            \n            Loading.mostrar();\n\n            $http(req).then( \n\n                function(data){\n          \t\t\t\n                \t$scope.item.mi_fav = data.data;\n\n                \tif(data.data == 0) $scope.item.favs = parseInt($scope.item.favs)  - 1;\n                \tif(data.data == 1) $scope.item.favs = parseInt($scope.item.favs)  + 1;\n                \t\n                    favService.setFav($scope.item.id, data.data);\n\n                \tLoading.ocultar()\n\n                }, function(){\n                    \n                    ToastService.show('Ocurrio un error. Revisa la conexin a internet', 'long', 'center');   \n                    Loading.ocultar()\n                  \n                }\n            )\n\n    \t}\n\n        $scope.goFb = function (){\n\n            window.open(SERVER + 'redirect/?u=' + encodeURIComponent($scope.item.fb), '_system');\n            \n        };\n\n        $scope.goSite = function (){\n\n            window.open(SERVER + 'redirect/?u=' + encodeURIComponent($scope.item.site), '_system');\n\n        };\n\n    \t$scope.goDir =  function (){\n\n    \t\t\n    \t   if ($window.google && $window.google.maps) {  \n              navigateService.go('mapa', {type:'dir', item: $scope.item}  )\n           }else{\n              ToastService.show('Debes conectarte a internet para ver el mapa.', 'long', 'center');\n           }\n    \t};\n\n\t\t$scope._set = function ($obj, $callback){\n\n\t\t\t_callback = $callback;\n\t\t\n\t\t\t$scope.item = $obj;\n\t\t\t//$scope.url_img = SERVER + 'img/pois/';\n\t\t\tLoading.mostrar();\n\n\t\t\tif(!angular.isUndefined($scope.item.tipo)){\n                \n\t\t\t\t$scope.url_img = 'img/default/';\n                //$scope.fotos_detalle = [$scope.item.tipo + '.png'];\n\t\t\t\t$scope.fotos_detalle = [];\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\t$scope.fotos_detalle = [];\n\n\t\t\t}\n\t\t\t\n\t\t\tvar  userId= $window.localStorage.getItem('userId');\n\n\t\t\t$http.get(SERVER+'ws.php?method=getDetalle&id=' + $scope.item.id + '&uid=' + userId).\n\n\t\t\t  success(function(data) {\n\t\t\t\t\t\n\t\t\t\t\t$scope.long_desc = '';\t\n\t\t\t\t\t\n\t\t\t\t\t$scope.long_desc = data.long_desc;\n\t\t\t\t\t\n\t\t\t\t\t$timeout(function (){\n\t\t\t\t\t\t$scope.url_img = SERVER + 'img/pois/';\n\t\t\t\t\t\t$scope.fotos_detalle =  data.fotos;\n\t\t\t\t\t}, 500);\n\t\t\t\t\t//\n\t\t\t\t\t$scope.item = data;\n\t\t\t\t\tLoading.ocultar();\n\t\t\t\t\t_callback()\n\n\t\t\t  }).\n\t\t\t  \n\t\t\t  error(function() {\n\t\t\t  \t\t$scope.long_desc = '';\t\n\t\t\t  \t\t$scope.url_img = 'img/default/';\n\t\t\t\t\t$scope.fotos_detalle = [$scope.item.tipo + '.png'];\n\t\t\t  \t\tLoading.ocultar();\n\t\t\t  \t\t_callback()\n\t\t\t  });\n\n\t\t};\n\n\n\t\tnavigateService.setSecciones('detalle', $scope._set)\n\n    }\n\n    \n\n\n  };\n});","geobarApp.directive('home', function ($window, navigateService, ToastService, SERVER, $http, arService) {\n    return {\n        restrict: 'E',\n        templateUrl: 'directivas/secciones/home/home.html',\n        scope: {},\n\n\n        link: function (scope) {\n\n            var _callback;\n            var ya_cargo = false;\n            scope.navigateService = navigateService;\n            scope.arService = arService;\n            scope.server = SERVER;\n            scope.url_img_home = SERVER + 'img/home/';\n\n            scope.realidad = function () {\n                arService.mostrar()\n            };\n\n            scope._set = function ($obj, $callback) {\n                _callback = $callback;\n\n                if (ya_cargo) {\n                    _callback();\n                    return;\n                }\n\n                scope.goMapa = function () {\n\n                    if ($window.google && $window.google.maps) {\n                        scope.navigateService.go('mapa', {type: 'all'})\n                    } else {\n                        ToastService.show('Debes conectarte a internet para ver el mapa.', 'long', 'center');\n                    }\n\n                };\n\n                $http.get(SERVER + 'ws.php?method=getHomeImagesApp').\n\n                    success(function (data) {\n\n                        scope.fotos_home = data;\n\n                        ya_cargo = true;\n                        if (scope.fotos_home.length == 0)  sin_fotos();\n                        _callback()\n\n                    }).\n\n                    error(function () {\n                        sin_fotos();\n                        _callback();\n                    });\n\n            };\n\n\n            function sin_fotos() {\n\n                scope.url_img_home = 'img/default/';\n                scope.fotos_home = ['home.png'];\n            }\n\n            navigateService.setSecciones('home', scope._set)\n\n\n        }\n    };\n});","geobarApp.directive('lista', function ($window, $log, favService, navigateService, SCREEN_SIZE, $filter, $timeout, lugaresService, eventosService) {\n\n    return {\n        restrict: 'E',\n        templateUrl: 'directivas/secciones/lista/lista.html',\n\n        link: function ($scope) {\n\n            $scope.filtro = '';\n            $scope.screen_alto = window.innerHeight;\n            $scope.en_pagina = 10;\n            $scope.favService = favService;\n\n            $scope.$watch('favService.all', function () {\n                $scope.favs = favService.getAll();\n            });\n\n            //console.log($scope.allFavs);\n            // $scope.type = $obj\n\n            var timer;\n            var en_lista;\n            $scope._set = function ($obj) {\n                $scope.filtro = '';\n                $scope.txtfiltro = '';\n                document.querySelector('.listado').scrollTop = 0;\n                $scope.en_pagina = 10;\n                if ($obj == 'lugares')  $scope.array_items = lugaresService.get();\n                if ($obj == 'eventos') $scope.array_items = eventosService.get();\n                $scope.total = $scope.array_items.length;\n                en_lista = $obj\n            };\n\n            $scope.$on('cambioListaLugares', function () {\n\n                if (en_lista == 'lugares') $scope._set('lugares')\n\n            });\n\n\n            $scope.resetFiltro = function () {\n\n                $scope.filtro = '';\n                $scope.txtfiltro = '';\n\n            };\n\n\n            navigateService.setSecciones('lista', $scope._set);\n\n\n            $scope.cargarMas = function () {\n\n                setTimeout(function () {\n                    $scope.en_pagina += 10;\n                    $scope.$apply()\n                }, 300);\n\n            };\n\n\n            $scope.keyDownFilter = function () {\n                $timeout.cancel(timer);\n                timer = $timeout(function () {\n                    $scope.filtro = $scope.txtfiltro;\n                    document.querySelector('.listado').scrollTop = 0;\n                    $scope.en_pagina = 10;\n                }, 300);\n            };\n\n\n            $scope.$watch('filtro', function () {\n\n                try {\n                    $scope.total = $filter('filter')($scope.array_items, $scope.filtro).length\n                } catch (e) {\n                }\n\n            });\n\n\n            var holder_scrolleable = angular.element(document.querySelector('.listado'));\n            holder_scrolleable.on(\"scroll\", function () {\n\n                var _scrollTop = this.scrollTop; // por donde va el scroll\n                var _offsetHeight = this.offsetHeight; // alto de la mascara\n                var _scrollHeight = this.scrollHeight; // alto del contenido\n                $scope.enscroll = _scrollTop;\n                $scope.altoholder = _offsetHeight;\n                if ((_offsetHeight + _scrollTop) > _scrollHeight - 300) {\n                    $scope.en_pagina += 10;\n                }\n                $scope.$apply();\n\n            });\n\n\n            $scope.enscroll = 0;\n            $scope.altoholder = 1000;\n\n            $scope.select_item = function ($item) {\n                $timeout(function () {\n                    navigateService.go('detalle', $item);\n                }, 250);\n\n\n            }\n        }\n    };\n})\n\n    .directive('itemLista', function (SERVER) {\n        return {\n            restrict: 'A',\n            scope: {\n\n                item: '=',\n                index: '@',\n                enscroll: '=',\n                altoholder: '=',\n                siempreVisible: '@',\n                favs: '='\n            },\n\n            templateUrl: 'directivas/secciones/lista/itemLista.html',\n            link: function ($scope) {\n\n                $scope.img_url = SERVER + 'pic/?file=pois/';\n\n                $scope.getFav = function ($fav) {\n                    if (angular.isUndefined($fav)) return 0;\n                    return $fav;\n                }\n\n            }\n\n        };\n\n    });\n","\n    geobarApp.directive('mapa', function($cordovaNetwork, $q, $timeout,$rootScope, navigateService, ToastService, lugaresService, eventosService, DistancePostion, cordovaGeolocationService, $window) {\n      \n\n      function load_script() {\n\n           document.getElementById('gMapsScripts').innerHTML = '';\n\n            var s = document.createElement('script'); // use global document since Angular's $document is weak\n            s.id = 'gMaps' ;\n            s.type = \"text/javascript\";\n            s.src = 'https://maps.googleapis.com/maps/api/js?sensor=true&key=AIzaSyBxU2t0W9wQFwPnGmoXNI-eg95zCy_PiJI&callback=initMap';\n            document.getElementById('gMapsScripts').appendChild(s);\n\n       }\n\n      function lazyLoadApi() {\n\n          var deferred = $q.defer();\n          $window.initMap = function () {\n              $timeout(function(){\n\n                 deferred.resolve();\n\n              })\n          };\n        \n          load_script();\n\n          return deferred.promise;\n      }\n\n\n      return {\n\n        restrict: 'AE',\n        scope: {},\n        templateUrl: 'directivas/secciones/mapa/mapa.html',\n\n        link: function (scope){\n\n            var map;\n            var mapa_ya_inicializado = false;\n            var array_markers =  [];\n            var myMarker  = null;\n            var bounds;\n            var mapa_type = '';\n            var directionsDisplay;\n            var directionsService;\n            var map_circle;\n            scope.itemSelected  = null;\n            scope.navigateService = navigateService;\n\n            scope.goInfo = function (){\n\n              navigateService.go('detalle',  scope.itemSelected);\n                \n            };\n            scope.goDir =  function (){\n\n              navigateService.go('mapa', {type:'dir', item: scope.itemSelected});\n              \n            };\n            scope.goTel =  function (){\n\n              $window.open('tel://' + scope.itemSelected.tel);\n              \n            };\n\n            function initialize() {\n                \n                    var mapOptions = {\n                        zoom: 15,\n                        center: new google.maps.LatLng(-34.397, 150.644),\n                        mapTypeControl:false,\n                        streetViewControl:false,\n                        mapTypeId: google.maps.MapTypeId.ROADMAP,\n                        styles:[\n                                  {\n                                      featureType: \"poi\",\n                                      elementType: \"labels\",\n                                      stylers: [\n                                            { visibility: \"off\" }\n                                      ]\n                                  }\n                               ]\n\n                    };\n\n                    directionsService = new google.maps.DirectionsService();\n                    directionsDisplay = new google.maps.DirectionsRenderer({suppressMarkers:true});\n                    map = new google.maps.Map(document.getElementById('el-mapa'),  mapOptions);\n                 \n                    mapa_ya_inicializado = true\n            }\n\n\n            function _dispose(){\n                for (var i in array_markers) {\n                  array_markers[i].setMap(null);\n                }\n                if(myMarker != null) myMarker.setMap(null);\n\n                directionsDisplay.setMap(null);\n            }\n\n\n            function agregar_marcador($item){\n\n                var tipo;\n                switch($item.tipo){\n                  case '1': tipo='bar'; break;\n                  case '2': tipo='restaurant'; break;\n                  case '3': tipo='cine' ;break;\n                  case '4': tipo='evento' ;break;\n                  case '5': tipo='teatro' ;break;\n                }\n\n                marker = new google.maps.Marker({\n                  position: new google.maps.LatLng($item.lat, $item.lon),\n                  map: map,\n                  optimized: true, \n                  icon: {\n                           url:'img/markers/' + tipo + '.png',\n                           scaledSize: new google.maps.Size(30, 30),\n                           anchor: new google.maps.Point(15,15)\n                          }\n                });\n\n                array_markers.push(marker);\n              \n                if(mapa_type == 'all'){\n                  \n      \n                  google.maps.event.addListener(marker, 'click', function(e) {\n\n                    scope.itemSelected = $item;\n                    scope.$apply();\n                   \n                  });\n\n\n                }\n               \n                bounds.extend(marker.getPosition());\n            }\n\n           scope.$on('cambioListaLugares', function(){\n               _dispose();\n           }); \n\n\n           scope._set = function ($obj){       \n\n\n                bounds = new google.maps.LatLngBounds(); \n                mapa_type = $obj.type;\n                scope.itemSelected = null; \n             \n                var my_pos = cordovaGeolocationService.getUltimaPosicion();\n\n                $timeout(function (){\n                    \n                    _dispose();\n\n                    array_markers = [];\n \n                    if(my_pos != null){\n                        \n                        myMarker = new google.maps.Marker({\n                                        position: new google.maps.LatLng(my_pos.coords.latitude, my_pos.coords.longitude),\n                                        optimized: true, \n                                        icon: {\n                                               url:'img/markers/yo.png',\n                                                 scaledSize: new google.maps.Size(20, 30),\n                                                 anchor: new google.maps.Point(10,30)\n                                              }, \n                                        map: map });\n\n                        bounds.extend(myMarker.getPosition());\n\n                    }\n\n                    try{\n                         map_circle.setMap(null)\n                    }catch(e){}\n\n\n                    if(mapa_type == 'dir'){\n\n                        agregar_marcador($obj.item);\n                        directionsDisplay.setMap(map);\n                        var stroke_color;\n                        if($obj.item.tipo ==1) stroke_color = '#ff99ff';\n                        if($obj.item.tipo ==2) stroke_color = '#EFE923';\n                        if($obj.item.tipo ==3) stroke_color = '#28eaa4';\n                        if($obj.item.tipo ==4) stroke_color = '#00ccff';\n                        if($obj.item.tipo ==5) stroke_color = '#9282A8';\n\n                        directionsDisplay.setOptions({polylineOptions:{strokeColor: stroke_color, strokeOpacity: 0.7, strokeWeight: 8}})\n                        \n                    } \n                    \n                    if(mapa_type == 'item'){\n                        \n                        agregar_marcador($obj.item)  \n              \n                    } \n\n                    if(mapa_type == 'all'){\n\n                        if(my_pos != null){\n\n                           \n                           var circleOptions = {\n                              strokeColor: '#FF0000',\n                              strokeOpacity: 0.1,\n                              strokeWeight: 2,\n                              fillColor: '#FF0000',\n                              fillOpacity: 0.04,\n                              map: map,\n                              center: myMarker.getPosition(),\n                              radius: ($window.localStorage.getItem('distancia')*1000)\n                            };\n\n                            map_circle = new google.maps.Circle(circleOptions);\n\n                            //lugares\n                            var lugares = lugaresService.getDistancia();\n                            var cantidad_lugares = lugares.length;\n                            for (i = 0; i < cantidad_lugares; i++) {  \n                            \n                            //  if(lugares[i].distancia <= $window.localStorage.getItem('distancia'))\n                               agregar_marcador(lugares[i])\n                              \n                            }\n                            \n                            //eventos\n                            var eventos = eventosService.getDistancia();\n                            var cantidad_eventos = eventos.length;\n                            for (i = 0; i < cantidad_eventos; i++) {  \n                              //if(eventos[i].distancia <= $window.localStorage.getItem('distancia'))\n                                agregar_marcador(eventos[i] )\n                            }\n\n                        } else {\n\n                            ToastService.show('No hemos enctroado tu ubicacin.', 'long', 'center');\n                            map.setCenter(new google.maps.LatLng(-34.905754, -56.194327));\n                            \n                        }\n\n                    }\n                    \n               \n                   \n                    $timeout(function (){\n                       \n                        google.maps.event.trigger(map, 'resize');\n\n                        if($obj.type == 'item'){\n                           map.setZoom(16);\n                           map.setCenter(new google.maps.LatLng($obj.item.lat, $obj.item.lon));\n                        }\n                        else if(my_pos != null && $obj.type == 'dir'){\n                             map.fitBounds(bounds);\n                             ver_ruta()\n                        }\n                        else if(my_pos != null){\n\n                            map.fitBounds(bounds);\n                        }\n                        else {}\n\n                    }, 100);\n\n                }, 600);\n            };\n\n\n            function ver_ruta() {\n                \n                  var request = {\n                      origin: myMarker.getPosition(),\n                      destination: array_markers[0].getPosition(),\n                      \n                      travelMode: google.maps.TravelMode['DRIVING']\n                  };\n                  directionsService.route(request, function(response, status) {\n                    if (status == google.maps.DirectionsStatus.OK) {\n                       directionsDisplay.setDirections(response);\n                    }\n                    console.log(status)\n                  });\n            }\n\n           \n\n\n            // lazy load maps           \n\n            function init_with_lazy_load($callback){\n\n              if ($window.google && $window.google.maps) {\n\n                     if(!mapa_ya_inicializado) initialize();\n                     if($callback != null)  $callback()\n                } else {\n\n                    lazyLoadApi().then(function () {\n                        console.log('promise resolved');\n                        if ($window.google && $window.google.maps) {\n                           if(!mapa_ya_inicializado) initialize();\n                           if($callback != null)  $callback()\n                        } else {\n                          console.log('gmaps not loaded');\n                        }\n                    }, function () {\n                        console.log('promise rejected');\n                    });\n                }\n\n            }\n            \n\n\n            $rootScope.$on('$cordovaNetwork:online', function(){\n\n                init_with_lazy_load(null);\n\n            });\n\n            init_with_lazy_load(null);\n            navigateService.setSecciones('mapa', scope._set);\n\n            \n        }\n      };\n    });","geobarApp.directive('reg', function(ToastService, $rootScope,  Loading,  $http, SERVER , regService, $cordovaDevice,  $cordovaFacebook) {\n  \n\n  return {\n\n    restrict: 'EA',\n    templateUrl: 'directivas/secciones/reg/reg.html',\n\n  \tscope : {\n    \n          showRegistro: '='\n\n    },\n      \n    link: function (scope){\n\n      regService.set(scope);\n\n  \t  scope.visible = true;\n  \t  scope.chkEdad = false;\n\n      scope.reg = {};\n      scope.reg.sexo = 'female';\n      scope.sexoF = true;\n      \n      scope.fb = function (){\n\n\n       $cordovaFacebook.login([\"public_profile\", \"email\", \"user_friends\"])\n\n        .then(function() {\n\n            Loading.mostrar();\n            $cordovaFacebook.api(\"me?fields=id,first_name,last_name,email,gender\", [\"public_profile\"])\n            .then(function(data) {\n\n              var objSend = {\n\n                  uid : data.id, \n                  nombre: data.first_name, \n                  apellido: data.last_name, \n                  email: data.email,\n                  sexo: data.gender\n\n              };\n       \n               objSend.uuid = 'dev';\n               objSend.platform = 'browser';\n               try{\n                objSend.uuid =  $cordovaDevice.getUUID();\n                objSend.platform = $cordovaDevice.getPlatform()\n               }catch(e){}\n\n            var  req = {\n                 method: 'POST',\n                 url: SERVER + 'ws.php?method=saveUser',\n                 headers: {\n                   'Content-Type':  'application/x-www-form-urlencoded;charset=utf-8'\n                 },\n                 data: objSend\n            };\n\n            $http(req).then( \n\n                function(data){\n                    \n                    window.localStorage.setItem('userId',  parseInt(data.data));\n                    scope.userId = parseInt(data.data);\n                    $rootScope.userId = parseInt(data.data);\n                    ToastService.show('Gracias por registrarte', 'long', 'center');   \n                    Loading.ocultar();\n                    scope.showRegistro = false;\n                    regService.callback_ok()\n\n\n                }, function(){\n                    Loading.ocultar()\n                  \n                }\n            );\n                 \n            }, function () {\n               Loading.ocultar();\n            });\n\n        }, function (error) {\n         \n        });\n\n\n\n      };\n      scope.mostrar = function(){\n\n        scope.showRegistro = true\n         \n      };\n\n      scope.omitir = function(){\n\n        scope.showRegistro = false;\n\n        regService.callback_cancel()\n  \n          \n      };\n\n      scope.elegirSexo = function ($sexo){\n\n        scope.reg.sexo = $sexo;\n\n        if($sexo=='male'){\n          scope.sexoF = false;\n          scope.sexoM = true\n        }else{\n          scope.sexoF = true;\n          scope.sexoM = false\n        }\n\n        scope.$apply();\n\n      };\n\n      scope.enviar = function(){\n\n\n\n          scope.errorNombre = false;\n          scope.errorApellido = false;\n          scope.errorEmail = false;\n          scope.errorCi = false;\n          scope.errorNac = false;\n         \n          if(scope.reg.nombre == '' || angular.isUndefined(scope.reg.nombre))  scope.errorNombre = true;\n          if(scope.reg.apellido == '' || angular.isUndefined(scope.reg.apellido))  scope.errorApellido = true;\n          if(scope.reg.email == '' || angular.isUndefined(scope.reg.email) || !validateEmail(scope.reg.email))  scope.errorEmail = true;\n          if(scope.reg.ci == '' || angular.isUndefined(scope.reg.ci) || !validate_ci(scope.reg.ci))  scope.errorCi = true;\n\n          if( angular.isUndefined(scope.reg.nac))  scope.errorNac = true;\n\n          if(getAge(scope.reg.nac)<18){\n\n             ToastService.show('Debes ser mayor de 18 aos para registrarte.', 'long', 'center');\n              return;\n\n          }else if(scope.errorNombre || scope.errorApellido || scope.errorEmail ||  scope.errorCi || scope.errorNac) {\n\n              ToastService.show('Hay campos incompletos o erroneos', 'long', 'center');\n              return;\n          }\n\n          scope.reg.fehca_nac = scope.reg.nac.getFullYear()  + '-' + (scope.reg.nac.getMonth()+1) + '-' + scope.reg.nac.getDate();\n\n          scope.reg.uuid = 'dev';\n          scope.reg.platform = 'browser';\n\n          try{\n            scope.reg.uuid =  $cordovaDevice.getUUID();\n            scope.reg.platform = $cordovaDevice.getPlatform()\n          }catch(e){}\n\n          var  req = {\n               method: 'POST',\n               url: SERVER + 'ws.php?method=saveUser',\n               headers: {\n                 'Content-Type':  'application/x-www-form-urlencoded;charset=utf-8'\n               },\n               data: scope.reg\n          };\n          \n          Loading.mostrar();\n\n          $http(req).then( \n\n              function(data){\n                  \n                  window.localStorage.setItem('userId',  parseInt(data.data));\n                  scope.userId = parseInt(data.data);\n                 \n                  ToastService.show('Gracias por registrarte', 'long', 'center');   \n                  Loading.ocultar();\n                  scope.showRegistro = false;\n                  regService.callback_ok();\n                  $rootScope.userId = parseInt(data.data);\n\n              }, function(){\n                  Loading.ocultar()\n                \n              }\n          );\n\n   };\n\n\n\n    function validateEmail(email) { \n        var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return re.test(email);\n    }\n\n    function getAge(dateString) \n    {\n        var today = new Date();\n        var birthDate = dateString;\n        var age = today.getFullYear() - birthDate.getFullYear();\n        var m = today.getMonth() - birthDate.getMonth();\n        if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) \n        {\n            age--;\n        }\n        return age;\n    }\n\n\n\n      function validation_digit(ci){\n         var a = 0;\n        var i = 0;\n        if(ci.length <= 6){\n          for(i = ci.length; i < 7; i++){\n            ci = '0' + ci;\n          }\n        }\n        for(i = 0; i < 7; i++){\n          a += (parseInt(\"2987634\"[i]) * parseInt(ci[i])) % 10;\n        }\n        if(a%10 === 0){\n          return 0;\n        }else{\n          return 10 - a % 10;\n        }\n      }\n\n      \n      function validate_ci(ci){\n        ci = clean_ci(ci);\n        var dig = ci[ci.length - 1];\n        ci = ci.replace(/[0-9]$/, '');\n        return (dig == validation_digit(ci));\n      }\n\n\n\n      function clean_ci(ci){\n        return ci.replace(/\\D/g, '');\n      }\n\n\n\n    }\n   \n  };\n}); ","geobarApp.directive('taxi', function() {\n\n  return {\n    restrict: 'EA',\n    templateUrl: 'directivas/secciones/taxi/taxi.html',\n\t\n    \n    link:function (scope){\n\n\t   \tscope.visible = true;\n\n      scope.voyentaxi = function(){\n\n         try{\n          if(device.platform==\"Android\")  window.open('https://play.google.com/store/apps/details?id=info.voyentaxi', '_system');\n          else                            window.open('https://itunes.apple.com/us/app/voy-en-taxi/id939470696?l=es&ls=1&mt=8', '_system');\n         }catch(e){}\n        \n      };\n\n      scope.easytaxi = function(){\n          try{\n            if(device.platform==\"Android\")  window.open('https://play.google.com/store/apps/details?id=br.com.easytaxi&referrer=adjust_reftag%3DcR558mQRWJVnN', '_system');\n            else                            window.open('https://itunes.apple.com/app/id567264775?mt=8', '_system');\n          }catch(e){}\n      }\n\n    }\n   \n\n  };\n}); ","geobarApp.directive('terms', function(ToastService) {\n  \n\n  return {\n    restrict: 'EA',\n    templateUrl: 'directivas/secciones/terms/terms.html',\n\t\n\n   scope : {\n\n\t\taceptoTerms: '='\n\n\n\t },\n    \n    link:function (scope){\n\n\t  scope.visible = true;\n\t  scope.chkEdad = false;\n\n      scope.aceptar = function(){\n\n      \tif( scope.chkEdad == 1){\n\n      \t\twindow.localStorage.setItem('aceptoTerms', 1);\n      \t\tscope.aceptoTerms = 1;\n      \t\t\n      \t}else{\n\n      \t\tToastService.show('Debes ser mayor de 18 aos para usar esta aplicacin.', 'long', 'center');\n\n      \t}\n        \t\n      }\n\n\n    }\n   \n\n  };\n}); ",";window.onerror = function(message, file, line) {\n  var error = [];\n  error.push('---[error]');\n  if (typeof message == \"object\") {\n    var keys = Object.keys(message);\n    keys.forEach(function(key) {\n      error.push('[' + key + '] ' + message[key]);\n    });\n  } else {\n    error.push(line + ' at ' + file);\n    error.push(message);\n  }\n  alert(error.join(\"\\n\"));\n};\n\nvar app = {\n\n    initialize: function() {\n        \n        this.bindEvents();\n       \n    },\n    bindEvents: function() {\n        document.addEventListener('deviceready', this.onDeviceReady, false);\n    },\n    \n    onDeviceReady: function() { \n      \n        try{\n\n            window.open = cordova.InAppBrowser.open;\n            //if(device.platform == 'iOS') StatusBar.hide();\n            angular.bootstrap(document, [\"geobarApp\"]);\n\n          }catch(e){\n\n            angular.bootstrap(document, [\"geobarApp\"]);\n\n        }\n\n    }\n};\n\n\n\n\napp.initialize();"],"sourceRoot":"/source/"}